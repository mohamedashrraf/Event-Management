<main class="main">
  <div class="register-background"></div>
  <div class="register">
    <div class="form-container">
      <h2 class="text-center mb-4">Join us now</h2>
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <div class="form-group mb-3">
          <label class="form-label" for="name">
            <i class="fa-regular fa-id-card"></i> Name</label
          >
          <input
            type="text"
            class="form-control"
            id="name"
            formControlName="name"
          />
          <small
            *ngIf="
              registrationForm.controls['name'].hasError('required') &&
              registrationForm.controls['name'].touched
            "
            class="text-danger"
          >
            Name is required.
          </small>
          <small
            *ngIf="
              registrationForm.controls['name'].hasError('minlength') &&
              registrationForm.controls['name'].touched
            "
            class="text-danger"
          >
            Name should be more than 3 characters.
          </small>
        </div>
        <div class="form-group mb-3">
          <label class="form-label" for="email">
            <i class="fa-solid fa-envelope"></i> Email</label
          >
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
          />
          <small
            *ngIf="
              registrationForm.controls['email'].hasError('required') &&
              registrationForm.controls['email'].touched
            "
            class="text-danger"
          >
            Email is required.
          </small>
          <small
            *ngIf="
              registrationForm.controls['email'].hasError('email') &&
              registrationForm.controls['email'].touched
            "
            class="text-danger"
          >
            Please enter a valid email address.
          </small>
        </div>

        <div class="form-group mb-3">
          <label class="form-label" for="username">
            <i class="fa-solid fa-user"></i> Username</label
          >
          <input
            type="text"
            class="form-control"
            id="username"
            formControlName="username"
          />
          <small
            *ngIf="
              registrationForm.controls['username'].hasError('required') &&
              registrationForm.controls['username'].touched
            "
            class="text-danger"
          >
            Username is required.
          </small>
          <small
            *ngIf="
              registrationForm.controls['username'].hasError('pattern') &&
              registrationForm.controls['username'].touched
            "
            class="text-danger"
          >
            Username should not contain spaces.
          </small>
        </div>

        <div class="form-group mb-3">
          <label class="form-label" for="password">
            <i class="fa-solid fa-lock"></i> Password</label
          >
          <input
            type="password"
            class="form-control"
            id="password"
            formControlName="password"
          />
          <small
            *ngIf="
              registrationForm.controls['password'].hasError('required') &&
              registrationForm.controls['password'].touched
            "
            class="text-danger"
          >
            Password is required.
          </small>
          <small
            *ngIf="
              registrationForm.controls['password'].hasError('pattern') &&
              registrationForm.controls['password'].touched
            "
            class="text-danger"
          >
            8+ characters, 1 uppercase, 1 lowercase, 1 number, 1 special
            character.
          </small>
          <!-- <div
            *ngIf="
              registrationForm.controls['password'].hasError('minlength') &&
              registrationForm.controls['password'].touched
            "
            class="text-danger"
          >
            Password should be at least 8 characters long.
          </div> -->
        </div>

        <div class="form-group mb-3">
          <label class="form-label" for="confirmPassword">
            <i class="fa-solid fa-key"></i> Confirm Password</label
          >
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            formControlName="confirmPassword"
          />
          <small
            *ngIf="
              registrationForm.controls['passwordMismatch'] &&
              registrationForm.controls['confirmPassword'].touched
            "
            class="text-danger"
          >
            Passwords do not match.
          </small>
          <small
            *ngIf="
              registrationForm.controls['confirmPassword'].hasError(
                'required'
              ) && registrationForm.controls['confirmPassword'].touched
            "
            class="text-danger"
          >
            Confirm Password is required.
          </small>
        </div>
        <br />
        <div class="d-grid gap-2 col-6 mx-auto">
          <button
            type="submit"
            class="{{
              'btn btn-primary' + (registrationForm.invalid ? ' disable' : '')
            }}"
            [disabled]="!registrationForm.valid"
          >
            Register
          </button>
        </div>
      </form>
      <div class="text-center mt-4">
        <p>
          Already have account!
          <a
            routerLink="/login"
            (click)="redirectToLogin()"
            routerLinkActive="text-primary"
            [routerLinkActiveOptions]="{ exact: true }"
            >Login now</a
          >
        </p>
      </div>
    </div>
    <div class="clr"></div>
  </div>
</main>
